# ฺฉ API ูุฏุฑู ูพุงุชูู ุจุฑุง ุดุงุฑฺ ููุจุงู

ฺฉ API ูุฏุฑุชููุฏ ู ุงูู ฺฉู ุจุฑุง ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง ุดุงุฑฺ ุณูโฺฉุงุฑุช ู ุชุงูพโุขูพ ุทุฑุงุญ ุดุฏู. ุงู ูพุฑูฺู ุจุฑ ูพุงู **FastAPI** ู ุณุฑูุฑ **Uvicorn** ุชูุณุนู ุฏุงุฏู ุดุฏู ุชุง ุนููฺฉุฑุฏ ุจุงูุงุ ุงููุช ู ูฺฏูุฏุงุฑ ุขุณูู ูุฑุงูู ฺฉูู.

**(ุงุณุชุงุฑ ูุฑุงููุด ูุดู! โญ)**

### ๐๏ธ ุดุฑูุน ุจู ฺฉุงุฑ ู ุฑุงูโุงูุฏุงุฒ

ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ChargeAPIุ ุงุจุชุฏุง ุจุงุฏ ุขู ุฑุง ุฏุฑ ูุญุท ูุญู ุฎูุฏ ูุตุจ ู ูพฺฉุฑุจูุฏ ฺฉูุฏ.

#### ฑ. ูพุดโูุงุฒูุง

ูุทูุฆู ุดูุฏ ฺฉู **ูพุงุชูู ูุณุฎู ณ.ท ุง ุจุงูุงุชุฑ** ู `pip` ุฑู ุณุณุชู ุดูุง ูุตุจ ุดุฏู ุงุณุช.

#### ฒ. ูุตุจ

ุจุณุชูโูุง ููุฑุฏ ูุงุฒ ูพุงุชูู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ `pip` ูุตุจ ฺฉูุฏ:

```bash
pip install fastapi uvicorn python-dotenv requests
```

#### ณ. ูพฺฉุฑุจูุฏ ุงูู

ุจุฑุง ุฐุฎุฑู ุงุทูุงุนุงุช ูุญุฑูุงูู (ูุงููุฏ ฺฉูุฏ ูุจโุณุฑูุณ)ุ ฺฉ ูุงู ุจู ูุงู **`.env`** ุฏุฑ ุฑุดู ูพุฑูฺู ุงุฌุงุฏ ฺฉูุฏ.

> **ุชูุฌู:** ุจุฑุง ุฏุฑุงูุช **CHARGE\_RESELLER\_WEB\_ID** ุจุงุฏ ุฏุฑ ูุจโุณุงุช ุฑุณู ุฑุณูุฑ ุดุงุฑฺ ุซุจุชโูุงู ฺฉุฑุฏู ู ฺฉูุฏ ูุฑุจูุทู ุฑุง ุงุฒ ูพูู ฺฉุงุฑุจุฑ ุฎูุฏ ุฏุฑุงูุช ฺฉูุฏ.

```ini
# .env
CHARGE_RESELLER_WEB_ID="ฺฉูุฏ_ูุจ_ุณุฑูุณ_ุฎูุฏ_ุฑุง_ุงูุฌุง_ูุฑุงุฑ_ุฏูุฏ"
```

#### ด. ุงุฌุฑุง ุณุฑูุณ

ุจุง ุงุณุชูุงุฏู ุงุฒ Uvicornุ ุณุฑูุฑ API ุฑุง ุงุฌุฑุง ฺฉูุฏ. ูพุฑฺู `--reload` ุจุฑุง ุชุณูู ูุฑุขูุฏ ุชูุณุนู ู ุงุนูุงู ุชุบุฑุงุช ูุญุธูโุง ฺฉุฏ ูุนุงู ุงุณุช.

```bash
uvicorn main:app --reload
```

> **ูฺฉุชู ูู:** ุงุฌุฑุง ุงู ุฏุณุชูุฑุ ุนูุงูู ุจุฑ ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑุ **ูุณุชูุฏุงุช API (Swagger UI)** ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ ุขุฏุฑุณ `http://127.0.0.1:8000/docs` ูุนุงู ูโฺฉูุฏ ุชุง ุจุชูุงูุฏ ูุณุฑูุง (Endpoints) ููุฌูุฏ ุฑุง ุจูโุฑุงุญุช ูุดุงูุฏู ู ุชุณุช ฺฉูุฏ.

-----

### ๐งช ูุญูู ุชุณุช ู ุงุณุชูุงุฏู

ูพุณ ุงุฒ ุงุฌุฑุง ููููุชโุขูุฒุ ูโุชูุงูุฏ API ุฑุง ูุณุชููุงู ุงุฒ ุทุฑู ูุฑูุฑฺฏุฑ ุง ุงุจุฒุงุฑูุง ุฎุท ูุฑูุงู ุชุณุช ฺฉูุฏ.

**ุชุณุช ุจุง `curl`:**
ุจุฑุง ุงุฑุณุงู ฺฉ ุฏุฑุฎูุงุณุช ุดุงุฑฺ (`POST`) ุจู ูุณุฑ `/charge` ู ุฏุฑุงูุช ููฺฉ ูพุฑุฏุงุฎุชุ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู **ุงุนุชุจุงุฑุณูุฌ ุฏุงุฏูโูุง ูุฑูุฏ (ูุงููุฏ ูุฒุงู ุดุงุฑฺ ู ุดูุงุฑู ุชููู) ุชูุณุท ูุฏูโูุง Pydantic ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุงูุฌุงู ูโุดูุฏ** ู ุฏุฑ ุตูุฑุช ูุดฺฉูุ ุฎุทุง ุดูุงู ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ.

```bash
curl -X POST "http://127.0.0.1:8000/charge" \
-H "accept: application/json" \
-H "Content-Type: application/json" \
-d '{
  "amount": 5000,
  "phone": "09123456789",
  "super": false,
  "daemi": false,
  "charge_type": "direct"
}'
```

ุฏุฑ ูพุงุณุฎุ ฺฉ ุฎุฑูุฌ JSON ุดุงูู URL ูพุฑุฏุงุฎุช ููุง ุฑุง ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ.

-----

### โ๏ธ ุฏุฑุจุงุฑู ูพุฑูฺู


  * **ุชูุณุนูโุฏููุฏู:** [Shayan Golmezerji](https://github.com/shayangolmezerji)
  * **ูุฌูุฒ:** ุงู ฺฉุฏ ุชุญุช [DON'T BE A DICK PUBLIC LICENSE](https://github.com/ShayanGolmezerji/ChargeAPI/blob/main/LICENSE.md) ููุชุดุฑ ุดุฏู ุงุณุช.
